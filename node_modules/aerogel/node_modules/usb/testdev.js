VID = 0x59e3
PID = 0x0a23
INTR_LENGTH = 64
EP_INTR = 0x81

usb = require('./usb')
dev = usb.findByIds(VID, PID)
dev.open()

iface = dev.interfaces[0]
ep = iface.endpoint(EP_INTR)
iface.claim()

ep.transfer(INTR_LENGTH, function(error, data){
	if (error){
		console.error(error)
	}else if (data.length < INTR_LENGTH){
		console.error("short read")
	}else{
		console.log("recv interrupt", data.readUInt16LE(0))
	}
})
